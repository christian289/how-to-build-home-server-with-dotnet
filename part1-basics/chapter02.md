# 제2장: 하드웨어 준비

## 2.1 N100 미니 PC 선택 가이드

N100 프로세서를 탑재한 미니 PC는 다양한 제조사에서 출시하고 있습니다. 각 제품마다 특징과 장단점이 있으므로, 자신의 용도에 맞는 제품을 선택하는 것이 중요합니다.

### 제조사별 특징 비교

#### 1. ASUS PN42
- **특징**: 대기업 제품으로 A/S 및 품질 신뢰도 높음
- **장점**:
  - VESA 마운트 지원 (모니터 뒷면 장착 가능)
  - 듀얼 HDMI 출력
  - 조용한 팬 쿨링 시스템
- **단점**: 상대적으로 높은 가격
- **권장 대상**: 안정성과 A/S를 중시하는 사용자

#### 2. GMKtec NucBox
- **특징**: 가성비 위주의 중국 브랜드
- **장점**:
  - 저렴한 가격
  - 다양한 포트 구성
  - 듀얼 NIC (2.5GbE × 2) 모델 있음
- **단점**: A/S 어려움, 품질 편차
- **권장 대상**: 예산이 제한적이고 네트워크 성능이 중요한 사용자

#### 3. Beelink Mini S12 Pro
- **특징**: 미니 PC 전문 브랜드
- **장점**:
  - 다양한 구성 옵션
  - 컴팩트한 디자인
  - 팬리스 모델도 선택 가능
- **단점**: 국내 정식 유통 부족
- **권장 대상**: 공간 효율을 중시하는 사용자

#### 4. Minisforum UN100
- **특징**: 미니 PC 전문 브랜드
- **장점**:
  - 뛰어난 빌드 품질
  - 다양한 I/O 포트
  - 팬리스 설계 모델 있음
- **단점**: 중상급 가격대
- **권장 대상**: 무소음 운영이 필수인 사용자

### 최소/권장 사양 결정하기

홈서버 용도에 따라 필요한 사양이 다릅니다.

#### 최소 사양 (기본 서비스용)
```
CPU: Intel N100
RAM: 8GB DDR4/DDR5
저장공간: 128GB SSD
네트워크: Gigabit Ethernet (1GbE)
```

**가능한 서비스**:
- Nextcloud (2-3명 사용)
- Jellyfin (1080p 스트리밍 1-2개)
- Pi-hole
- Vaultwarden
- 10개 내외의 Docker 컨테이너

#### 권장 사양 (다양한 서비스 동시 운영)
```
CPU: Intel N100
RAM: 16GB DDR4/DDR5
저장공간: 256GB NVMe SSD (시스템) + 추가 스토리지
네트워크: 2.5 Gigabit Ethernet (2.5GbE)
```

**가능한 서비스**:
- Nextcloud (5-10명 사용)
- Jellyfin (4K 트랜스코딩 포함)
- Home Assistant
- 여러 개발 환경
- 20-30개의 Docker 컨테이너

### 구매 시 확인할 사항 체크리스트

- [ ] **RAM 확장 가능 여부**: 최대 16GB까지 지원하는지 확인
- [ ] **스토리지 확장 슬롯**: M.2 NVMe 슬롯, SATA 슬롯 확인
- [ ] **네트워크 포트**: 1GbE 또는 2.5GbE, 듀얼 NIC 여부
- [ ] **냉각 방식**: 팬리스 vs 액티브 쿨링
- [ ] **전원 어댑터**: 12V/19V, 출력(W) 확인
- [ ] **VESA 마운트**: 모니터 뒷면 장착 가능 여부
- [ ] **포트 구성**: USB 3.0/3.1 개수, HDMI/DP 출력
- [ ] **보증 기간**: 1년 이상 권장
- [ ] **베어본 vs 완제품**: RAM/SSD 별도 구매 필요 여부

## 2.2 스토리지 구성 전략

홈서버에서 스토리지는 가장 중요한 요소 중 하나입니다. 용도에 맞는 스토리지 전략을 세우는 것이 중요합니다.

### SSD vs HDD 선택 기준

#### SSD (Solid State Drive)
**장점**:
- 빠른 읽기/쓰기 속도
- 저소음/무소음
- 저전력
- 내구성 (충격에 강함)

**단점**:
- GB당 가격이 비쌈
- 쓰기 수명 제한 (TBW)

**권장 용도**:
- 운영체제 및 시스템 파일
- Docker 컨테이너 및 이미지
- 데이터베이스
- 자주 접근하는 파일
- 가상 머신 이미지

#### HDD (Hard Disk Drive)
**장점**:
- GB당 가격이 저렴
- 대용량 (8TB, 12TB 등)
- 쓰기 수명 제한 없음

**단점**:
- 느린 속도
- 소음 발생
- 높은 전력 소비
- 충격에 약함

**권장 용도**:
- 미디어 파일 (영화, 음악, 사진)
- 백업 데이터
- 아카이브
- 자주 접근하지 않는 대용량 파일

### 추천 스토리지 구성

#### 방법 1: SSD 단독 구성 (소규모)
```
256GB NVMe SSD (시스템 + 데이터)
└── /dev/nvme0n1
    ├── /dev/nvme0n1p1 → / (시스템: 50GB)
    └── /dev/nvme0n1p2 → /data (데이터: 200GB)
```
- **장점**: 간단하고 조용하며 빠름
- **단점**: 저장 공간 제한적
- **적합**: 미디어 파일이 많지 않은 경우

#### 방법 2: SSD + HDD 하이브리드 구성 (권장)
```
256GB NVMe SSD (시스템)
└── /dev/nvme0n1 → / (시스템, Docker, DB)

2TB HDD (데이터)
└── /dev/sda → /mnt/data (미디어, 백업)
```
- **장점**: 속도와 용량의 균형
- **단점**: HDD 소음 발생
- **적합**: 미디어 서버 + 개발 환경

#### 방법 3: 다중 드라이브 구성 (대규모)
```
512GB NVMe SSD (시스템)
└── /dev/nvme0n1 → / (시스템, Docker, DB)

2TB SSD (핫 데이터)
└── /dev/sda → /mnt/hot-data (자주 사용하는 파일)

4TB HDD × 2 (콜드 데이터, RAID)
├── /dev/sdb → RAID 1
└── /dev/sdc → RAID 1
    └── /mnt/storage (미디어, 아카이브)
```
- **장점**: 최대 성능 + 대용량 + 중복성
- **단점**: 비용 증가, 복잡도 증가
- **적합**: 전문적인 홈랩 운영

### RAID 구성 여부 결정

[RAID](https://en.wikipedia.org/wiki/RAID) (Redundant Array of Independent Disks)는 여러 개의 디스크를 하나로 묶어서 성능 향상이나 데이터 중복성을 제공하는 기술입니다.

#### RAID 0 (스트라이핑)
- **구성**: 2개 이상의 디스크
- **용량**: 모든 디스크 용량 합계
- **장점**: 읽기/쓰기 속도 2배
- **단점**: 디스크 1개라도 고장 시 모든 데이터 손실
- **권장**: **사용 비권장** (홈서버에 적합하지 않음)

#### RAID 1 (미러링)
- **구성**: 2개의 디스크
- **용량**: 1개 디스크 용량
- **장점**: 디스크 1개 고장 시에도 데이터 보존
- **단점**: 용량이 절반으로 줄어듦
- **권장**: **백업용으로 적합**

#### 홈서버에서 RAID가 필요한가?

**RAID를 권장하지 않는 이유**:
1. N100 미니 PC는 보통 2개 이하의 드라이브만 장착 가능
2. RAID는 백업이 아님 (실수로 삭제한 파일은 복구 불가)
3. 비용 대비 효율이 낮음

**대신 권장하는 방법**:
- 주 저장장치 + 외장 HDD/클라우드로 정기 백업
- [Duplicati](https://www.duplicati.com/), [Restic](https://restic.net/) 등 백업 도구 활용
- 3-2-1 백업 규칙 적용 (제15장에서 상세히 다룸)

### 외장 스토리지 활용법

외장 스토리지는 백업 및 확장 용도로 매우 유용합니다.

#### USB 외장 HDD
- **용도**: 주기적 백업, 미디어 아카이브
- **장점**: 저렴하고 간편
- **단점**: USB 속도 제한, 안정성 우려
- **팁**:
  - USB 3.0 이상 사용
  - 항상 연결하지 말고 백업 시에만 연결
  - NTFS보다는 ext4 파일시스템 사용 권장

#### NAS (Network Attached Storage)
- **용도**: 중앙화된 스토리지, 여러 기기에서 접근
- **장점**: 대용량, 안정적, RAID 지원
- **단점**: 추가 비용, 관리 필요
- **팁**:
  - Synology, QNAP 등 고려 (홈서버와 별도 운영)
  - 또는 홈서버 자체를 NAS처럼 활용 (Samba, NFS)

#### 클라우드 스토리지
- **용도**: 오프사이트 백업
- **장점**: 화재/도난 시에도 안전
- **단점**: 업로드 속도, 비용
- **권장 서비스**:
  - Google Drive (15GB 무료)
  - OneDrive (5GB 무료)
  - Backblaze B2 (10GB 무료, 이후 저렴)

## 2.3 네트워크 장비 준비

홈서버는 네트워크 중심 시스템이므로, 네트워크 구성이 매우 중요합니다.

### 공유기 설정 최적화

기존 공유기를 사용해도 무방하지만, 다음 기능을 지원하는지 확인하세요:

#### 필수 기능
- [x] **포트 포워딩** (Port Forwarding): 외부에서 홈서버 접속
- [x] **고정 IP 할당** (DHCP Reservation): 홈서버 IP 주소 고정
- [x] **UPnP**: 자동 포트 매핑 (보안상 비활성화 권장)

#### 권장 기능
- [x] **IPv6 지원**: 미래 대비
- [x] **QoS** (Quality of Service): 트래픽 우선순위 설정
- [x] **VPN 서버**: 외부에서 안전하게 접속
- [x] **DDNS 지원**: 동적 IP 문제 해결

#### 공유기 추천
- **예산형**: ipTIME A3004NS-BCM (4-5만원)
- **중급**: ASUS RT-AX55 (10-15만원)
- **고급**: Ubiquiti UniFi Dream Machine (30만원+)

### 유선/무선 네트워크 구성

#### 홈서버는 반드시 유선 연결
무선(Wi-Fi)은 다음과 같은 문제가 있습니다:
- 불안정한 연결
- 낮은 속도 (특히 업로드)
- 지연 시간 증가

**권장 구성**:
```
[인터넷] ─ [공유기] ─── [홈서버] (유선 Gigabit)
              │
              ├─── [PC/노트북] (유선/무선)
              └─── [스마트폰] (무선)
```

#### 네트워크 케이블 선택
- **Cat 5e**: Gigabit (1Gbps) 지원, 100m까지
- **Cat 6**: 2.5 Gigabit 지원, 권장
- **Cat 6a**: 10 Gigabit 지원, 고급 사용자

#### 고급: 네트워크 분리 (VLAN)
보안을 위해 네트워크를 분리할 수 있습니다:
- **관리 네트워크**: 서버 관리 전용
- **서비스 네트워크**: 일반 사용자 접근
- **IoT 네트워크**: 스마트홈 기기 격리

이를 위해서는 [VLAN](https://en.wikipedia.org/wiki/Virtual_LAN) 지원 공유기 또는 관리형 스위치가 필요합니다.

## 2.4 무정전 전원장치(UPS) 고려사항

[UPS](https://en.wikipedia.org/wiki/Uninterruptible_power_supply) (Uninterruptible Power Supply)는 정전 시에도 일정 시간 전원을 공급하는 장치입니다.

### UPS가 필요한 이유

1. **정전 시 안전한 종료**: 갑작스러운 전원 차단으로 인한 데이터 손실 방지
2. **전압 안정화**: 전압 변동으로부터 하드웨어 보호
3. **서지 보호**: 낙뢰 등으로 인한 과전압 차단
4. **서비스 연속성**: 짧은 정전 시에도 무중단 운영

### 용량 선택 가이드

UPS 용량은 VA (Volt-Ampere) 또는 W (Watt)로 표시됩니다.

**계산 방법**:
```
N100 미니 PC: 15W
외장 HDD: 10W
공유기: 10W
------------------
총 소비전력: 35W

권장 UPS 용량: 35W × 2 = 70W 이상
→ 500VA 모델이면 충분 (약 300W 지원)
```

**예상 백업 시간**:
- 500VA UPS + 35W 부하 = 약 30-60분
- 이 시간 동안 안전하게 서버를 종료하거나 정전이 해소되기를 기다릴 수 있습니다.

### UPS 추천 제품

#### 예산형
- **APC Back-UPS BX700UI** (10만원)
  - 700VA/390W
  - 서지 보호 4구
  - USB 연결로 자동 종료 가능

#### 권장형
- **CyberPower CP900EPFCLCD** (15만원)
  - 900VA/540W
  - LCD 디스플레이
  - 순수 정현파 출력

### NUT (Network UPS Tools) 설정

Linux에서 UPS를 관리하려면 [NUT](https://networkupstools.org/)를 사용합니다.

```bash
# NUT 설치
sudo apt update
sudo apt install nut -y

# UPS 연결 확인
lsusb | grep -i ups
```

UPS 설정 및 자동 종료 스크립트는 부록 B에서 자세히 다룹니다.

---

**다음 장에서는**: Ubuntu Server를 포함한 다양한 운영체제를 비교하고, 홈서버에 최적화된 OS 설치 방법을 알아보겠습니다.
